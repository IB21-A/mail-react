{"version":3,"sources":["axios.js","API.js","hooks/useAuth.js","components/Navigation/Navigation.styles.js","components/Navigation/index.js","components/MessageLine/MessageLine.styles.js","components/Mailbox/Mailbox.styles.js","components/MessageLine/index.js","components/common/Spinner/index.js","components/common/Spinner/Spinner.styles.js","components/Mailbox/index.js","components/Compose/Compose.styles.js","components/getData.js","components/Compose/index.js","components/Email/Email.styles.js","components/Email/index.js","components/Login/Login.styles.js","components/Login/index.js","components/Logout/Logout.styles.js","components/Logout/index.js","components/Register/Register.styles.js","components/Register/index.js","globalstyle.js","App.js","reportWebVitals.js","index.js"],"names":["baseURL","axiosInstance","axios","create","timeout","headers","Authorization","localStorage","getItem","accept","interceptors","response","use","a","error","originalRequest","config","alert","Promise","reject","status","url","window","location","href","data","code","statusText","refreshToken","tokenParts","JSON","parse","atob","split","now","Math","ceil","Date","exp","post","refresh","then","setItem","access","defaults","catch","err","console","log","apiSettings","fetchMessages","mailbox","get","result","emails","fetchMessage","id","email","sendMessage","stringify","updateReadOrArchiveStatus","put","deleteMessage","delete","register","username","password","confirmation","message","res","login","user","jwtDecode","logout","removeItem","ex","getCurrentUser","jwt","authContext","createContext","ProvideAuth","children","auth","useState","setUser","API","getUser","useEffect","token","useProvideAuth","Provider","value","useAuth","useContext","Wrapper","styled","div","Navigation","setMailbox","redirectedMailbox","useLocation","state","length","className","Navbar","collapseOnSelect","expand","bg","variant","Container","Toggle","aria-controls","Nav","Brand","Collapse","Link","activeKey","pathname","props","read","Content","MessageLine","sender","subject","timestamp","handleClick","onClick","Spinner","Mailbox","useParams","navigate","useNavigate","loading","setLoading","setError","messages","setMessages","find","markAsRead","map","recipients","Component","Compose","setRecipients","setSubject","body","setBody","isPending","setIsPending","textareaRef","useRef","emailToRef","setCursorPosition","current","focus","setTimeout","setSelectionRange","formatSubject","replace","formatBody","doSubmit","e","preventDefault","Form","onSubmit","Group","controlId","size","Label","Control","ref","type","placeholder","onChange","target","name","as","rows","Button","disabled","Email","setRead","archived","setArchived","handleArchive","prevArchived","handleDelete","join","prevRead","Login","setUsername","setPassword","document","referrer","Text","Logout","Register","setData","schema","Joi","object","string","required","minDomainSegments","tlds","allow","min","validate","options","abortEarly","validated","errorObject","details","item","path","usernameError","handleChange","input","currentTarget","newData","GlobalStyle","createGlobalStyle","App","history","createBrowserHistory","exact","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f7a0d32c.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseURL = \"https://mail-thom.herokuapp.com/api/\";\n\nconst axiosInstance = axios.create({\n  baseURL: baseURL,\n  timeout: 5000,\n  headers: {\n    Authorization: localStorage.getItem(\"access_token\")\n      ? \"JWT \" + localStorage.getItem(\"access_token\")\n      : null,\n    \"Content-Type\": \"application/json\",\n    accept: \"application/json\",\n  },\n});\n\naxiosInstance.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  async function (error) {\n    const originalRequest = error.config;\n\n    if (typeof error.response === \"undefined\") {\n      alert(\n        \"A server/network error occurred. \" +\n          \"Looks like CORS might be the problem. \" +\n          \"Sorry about this - we will get it fixed shortly.\"\n      );\n      return Promise.reject(error);\n    }\n\n    if (\n      error.response.status === 401 &&\n      originalRequest.url === baseURL + \"token/refresh/\"\n    ) {\n      window.location.href = \"/login/\";\n      return Promise.reject(error);\n    }\n\n    if (\n      error.response.data.code === \"token_not_valid\" &&\n      error.response.status === 401 &&\n      error.response.statusText === \"Unauthorized\"\n    ) {\n      const refreshToken = localStorage.getItem(\"refresh_token\");\n\n      if (refreshToken) {\n        const tokenParts = JSON.parse(atob(refreshToken.split(\".\")[1]));\n\n        // exp date in token is expressed in seconds, while now() returns milliseconds:\n        const now = Math.ceil(Date.now() / 1000);\n\n        if (tokenParts.exp > now) {\n          return axiosInstance\n            .post(\"/token/refresh/\", { refresh: refreshToken })\n            .then((response) => {\n              localStorage.setItem(\"access_token\", response.data.access);\n              localStorage.setItem(\"refresh_token\", response.data.refresh);\n\n              axiosInstance.defaults.headers[\"Authorization\"] =\n                \"JWT \" + response.data.access;\n              originalRequest.headers[\"Authorization\"] =\n                \"JWT \" + response.data.access;\n\n              return axiosInstance(originalRequest);\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        } else {\n          console.log(\"Refresh token is expired\", tokenParts.exp, now);\n          window.location.href = \"/login/\";\n        }\n      } else {\n        console.log(\"Refresh token not available.\");\n        window.location.href = \"/login/\";\n      }\n    }\n\n    // specific error handling done elsewhere\n    return Promise.reject(error);\n  }\n);\n\nexport default axiosInstance;\n","import axiosInstance from \"./axios\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst apiSettings = {\r\n  fetchMessages: async (mailbox) => {\r\n    const result = await axiosInstance.get(`/emails/${mailbox}/`);\r\n    const emails = result.data;\r\n    return emails;\r\n  },\r\n  // fetchMessages: async (mailbox, page) => {\r\n  // \tconst result = await axiosInstance.get(`/emails/${mailbox}/`);\r\n  // \tconst emails = result.data;\r\n  // \treturn emails;\r\n  // },\r\n  fetchMessage: async (id) => {\r\n    const result = await axiosInstance.get(`/emails/get/${id}/`);\r\n    const email = result.data;\r\n    return email;\r\n  },\r\n  sendMessage: async (email) => {\r\n    // axiosInstance.post(`emails/compose`, JSON.stringify(email))\r\n    // \t.then((response) => {\r\n    // \t\treturn response.status;\r\n    // \t});\r\n    return await (\r\n      await axiosInstance.post(`emails/compose/`, JSON.stringify(email))\r\n    ).status;\r\n  },\r\n  updateReadOrArchiveStatus: async (email) => {\r\n    return await await axiosInstance.put(\r\n      `emails/edit/${email.id}`,\r\n      JSON.stringify(email)\r\n    ).status;\r\n  },\r\n  deleteMessage: async (email) => {\r\n    return await await axiosInstance.delete(`emails/delete/${email.id}`);\r\n  },\r\n  register: async (username, password) => {\r\n    const res = await axiosInstance\r\n      .post(`register/`, {\r\n        email: username,\r\n        password: password,\r\n        confirmation: password,\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response.data);\r\n        return error.response.data.message;\r\n      });\r\n\r\n    // If registration works, log user in, else return error\r\n    if (res.status === 201) {\r\n      apiSettings.login(username, password);\r\n      return;\r\n    }\r\n\r\n    return res;\r\n  },\r\n  login: async (username, password) => {\r\n    try {\r\n      const res = await axiosInstance.post(`token/`, {\r\n        username: username,\r\n        password: password,\r\n      });\r\n      localStorage.setItem(\"access_token\", res.data.access);\r\n      localStorage.setItem(\"refresh_token\", res.data.refresh);\r\n      axiosInstance.defaults.headers[\"Authorization\"] =\r\n        \"JWT \" + localStorage.getItem(\"access_token\");\r\n\r\n      let user = jwtDecode(res.data.access);\r\n\r\n      window.location.href = \"/mailbox/inbox\";\r\n      return user;\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 400) {\r\n        console.log(ex.response.data);\r\n\r\n        return false;\r\n      }\r\n    }\r\n  },\r\n  logout: async () => {\r\n    try {\r\n      localStorage.removeItem(\"access_token\");\r\n      localStorage.removeItem(\"refresh_token\");\r\n      window.location.href = \"/login\";\r\n    } catch (ex) {}\r\n  },\r\n  getCurrentUser: async () => {\r\n    try {\r\n      let jwt = await jwtDecode(localStorage.getItem(\"access_token\"));\r\n\r\n      return jwt.username; // return username\r\n    } catch (ex) {}\r\n  },\r\n};\r\n\r\nexport default apiSettings;\r\n","import React, { useState, useEffect, useContext, createContext } from \"react\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nimport API from \"../API\";\r\n\r\nconst authContext = createContext();\r\n\r\nexport function ProvideAuth({ children }) {\r\n\tconst auth = useProvideAuth();\r\n\treturn <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n}\r\n\r\n// Hook for child components to get the auth object\r\n// and re-render when it changes\r\nexport const useAuth = () => {\r\n\treturn useContext(authContext);\r\n};\r\n\r\n// provider hook that creates auth object and handles state\r\nexport function useProvideAuth() {\r\n\tconst [user, setUser] = useState(null);\r\n\r\n\tconst login = async (username, password) => {\r\n\t\tconsole.log(\"useProvideAuth.login\"); // Debug output, delete\r\n\t\tconst user = await API.login(username, password);\r\n\t\tconsole.log(user);\r\n\t\tsetUser(user);\r\n\t\treturn user;\r\n\t};\r\n\r\n\tconst logout = async () => {\r\n\t\tconsole.log(\"useProvideAuth.logout\"); // Debug output, delete\r\n\t\tsetUser(null);\r\n\t\tAPI.logout();\r\n\t};\r\n\r\n\tconst getUser = async () => {\r\n\t\treturn await API.getCurrentUser();\r\n\t\t// if (user) {\r\n\t\t// \ttry {\r\n\t\t// \t\tconsole.log(\"try getUser\");\r\n\t\t// \t\treturn user;\r\n\t\t// \t} catch (ex) {\r\n\t\t// \t\tconsole.log(\"error decoding user\");\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// console.log(\"nouser\");\r\n\t\t// return null;\r\n\t};\r\n\t//\r\n\r\n\t// Subscribe to user on mount\r\n\t// Because this sets state in the callback it will cause any ...\r\n\t// ... component that utilizes this hook to re-render with the ...\r\n\t// ... latest auth object.\r\n\tuseEffect(() => {\r\n\t\ttry {\r\n\t\t\tlet token = localStorage.getItem(\"access_token\");\r\n\t\t\t// if (token === null) {\r\n\t\t\t// \tsetUser(null);\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\t\t\tsetUser(jwtDecode(token));\r\n\t\t} catch (ex) {\r\n\t\t\tsetUser(null);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Cleanup subscription on unmount\r\n\t}, []);\r\n\r\n\treturn { user, login, logout, getUser };\r\n}\r\n","import styled from \"styled-components\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { screen } from \"@testing-library/react\";\r\n\r\nexport const Wrapper = styled.div`\r\n\tmax-width: var(--maxWidth);\r\n\tmargin: 0 auto;\r\n\tpadding: 1em 0;\r\n\ttext-align: left;\r\n\r\n\tbutton {\r\n\t\tmargin-right: 1em;\r\n\t\tpadding: 0.3em 0.6em;\r\n\t}\r\n\r\n\t.active {\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #007bff;\r\n\t\tborder-color: #007bff;\r\n\t}\r\n\r\n\t.inactive {\r\n\t\tcolor: #007bff;\r\n\t\tbackground-color: transparent;\r\n\t\tbackground-image: none;\r\n\t\tborder-color: #007bff;\r\n\t}\r\n\r\n\t.inactive:hover {\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #007bff;\r\n\t\tborder-color: #007bff;\r\n\t}\r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n// Styles\r\nimport { Wrapper } from \"./Navigation.styles\";\r\n// Bootstrap Component\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\r\n\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\n\r\nconst Navigation = ({ mailbox, setMailbox }) => {\r\n\tconst auth = useAuth();\r\n\tconst user = auth.user;\r\n\r\n\tconst getButtonClasses = (buttonValue) => {\r\n\t\treturn mailbox == buttonValue ? \"primary btn-sm\" : \"outline-primary btn-sm\";\r\n\t};\r\n\r\n\tconst activeClassName = \"active\";\r\n\tconst className = \"inactive\";\r\n\r\n\t// hacky way to redirect to archive after archiving an email\r\n\tconst { state: redirectedMailbox } = useLocation();\r\n\tconst location = useLocation();\r\n\tuseEffect(() => {\r\n\t\tif (redirectedMailbox && redirectedMailbox.length > 0) {\r\n\t\t\tsetMailbox(redirectedMailbox);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Wrapper className=\"navigaton\">\r\n\t\t\t\t<Navbar collapseOnSelect expand=\"sm\" bg=\"primary\" variant=\"dark\">\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t<Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n\r\n\t\t\t\t\t\t{!user && (\r\n\t\t\t\t\t\t\t<Nav>\r\n\t\t\t\t\t\t\t\t<Navbar.Brand>Web Mail</Navbar.Brand>\r\n\r\n\t\t\t\t\t\t\t\t<Navbar.Collapse id=\"responsive-navbar-nav\">\r\n\t\t\t\t\t\t\t\t\t<Nav>\r\n\t\t\t\t\t\t\t\t\t\t<Nav.Link href=\"/register\">Register</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<Nav.Link href=\"/login\">Login</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{user && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Navbar.Collapse id=\"responsive-navbar-nav\">\r\n\t\t\t\t\t\t\t\t\t<Nav className=\"me-auto\" activeKey={location.pathname}>\r\n\t\t\t\t\t\t\t\t\t\t<Nav.Link href=\"/mailbox/inbox\">Inbox</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<Nav.Link href=\"/compose\">Compose</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<Nav.Link href=\"/mailbox/sent\">Sent</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<Nav.Link href=\"/mailbox/archive\">Archive</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t\t\t\t\t<Nav>\r\n\t\t\t\t\t\t\t\t\t<Navbar.Brand>{user.username}</Navbar.Brand>\r\n\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t<Nav>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link href=\"/logout\">Logout</Nav.Link>\r\n\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Navbar>\r\n\t\t\t</Wrapper>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Navigation;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n\tdisplay: flex;\r\n\tborder: 1px solid black;\r\n\tpadding: 0.2rem;\r\n\tbackground-color: ${(props) => props.read && \"#c8c7c7\"};\r\n\t${\r\n\t\t\"\" /* width: 100%;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\twidth: 100%; */\r\n\t}\r\n\r\n\t:hover {\r\n\t\tbackground-color: #007bff;\r\n\t\tborder-color: #007bff;\r\n\t\tcolor: #fff;\r\n\t}\r\n`;\r\nexport const Content = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\twidth: 100%;\r\n\r\n\tdiv {\r\n\t\tmin-width: 0;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\r\n\t.sender {\r\n\t\tfont-weight: 500;\r\n\t\tmax-width: 30em;\r\n\t\tmin-width: 10em;\r\n\t}\r\n\r\n\t.subject {\r\n\t\ttext-align: left;\r\n\t\tjustify-content: flex-start;\r\n\t\twidth: auto;\r\n\t}\r\n\r\n\t@media screen and (max-width: 600px) {\r\n\t\t.timestamp {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t.subject {\r\n\t\t\ttext-align: left;\r\n\t\t\tjustify-content: flex-start;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t}\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { Wrapper as MessageLine } from \"../MessageLine/MessageLine.styles.js\";\r\n\r\nexport const Wrapper = styled.div`\r\n  max-width: var(--maxWidth);\r\n  margin: 0 auto;\r\n\r\n  ${MessageLine} + ${MessageLine} {\r\n    margin-top: -1px;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Wrapper, Content } from \"./MessageLine.styles\";\r\n\r\nconst MessageLine = ({ sender, subject, read, timestamp, handleClick, id }) => (\r\n\t<Wrapper read={read} onClick={() => handleClick(id)}>\r\n\t\t<Content>\r\n\t\t\t<div className=\"sender\">{sender}</div>\r\n\t\t\t<div className=\"subject\"> {subject}</div>\r\n\t\t\t<div className=\"timestamp\">{timestamp}</div>\r\n\t\t</Content>\r\n\t</Wrapper>\r\n);\r\n\r\nexport default MessageLine;\r\n","import { Spinner } from \"./Spinner.styles\";\r\n\r\nexport default Spinner;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Spinner = styled.div`\r\n\tborder: 5px solid var(--lightGrey);\r\n\tborder-top: 5px solid var(--darkGrey);\r\n\tborder-radius: 50%;\r\n\twidth: 50px;\r\n\theight: 50px;\r\n\tmargin: 20px auto;\r\n\r\n\tanimation: spin 0.8s linear infinite;\r\n\r\n\t@keyframes spin {\r\n\t\t0% {\r\n\t\t\ttransform: rotate(0deg);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\n// styles\r\nimport { Wrapper } from \"./Mailbox.styles\";\r\n\r\n// components\r\nimport MessageLine from \"../MessageLine\";\r\nimport Spinner from \"../common/Spinner\";\r\n\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\n\r\nimport API from \"../../API\";\r\n\r\nconst Mailbox = () => {\r\n  let { mailbox } = useParams();\r\n  const navigate = useNavigate();\r\n  const [currentMailbox, setCurrentMailbox] = useState(mailbox);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchMessages = async () => {\r\n      try {\r\n        setError(false);\r\n        setLoading(true);\r\n\r\n        const emails = await API.fetchMessages(mailbox);\r\n\r\n        setMessages(emails);\r\n      } catch (ex) {\r\n        setError(true);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchMessages(mailbox);\r\n  }, [mailbox]);\r\n\r\n  const handleClick = (id) => {\r\n    const email = messages.find((message) => message.id === id);\r\n    markAsRead(email);\r\n\r\n    // pass the selected message through state props into the read email component\r\n    navigate(\"/read\", { state: email });\r\n  };\r\n\r\n  function markAsRead(email) {\r\n    console.log(email);\r\n    email.read = true;\r\n    API.updateReadOrArchiveStatus(email);\r\n  }\r\n  // TODO add pagination\r\n\r\n  return (\r\n    <Wrapper>\r\n      {loading ? (\r\n        <Spinner />\r\n      ) : (\r\n        messages.map((message) => (\r\n          <MessageLine\r\n            key={message.id}\r\n            id={message.id}\r\n            sender={\r\n              mailbox === \"sent\"\r\n                ? `To: ${message.recipients[0]}`\r\n                : message.sender\r\n            }\r\n            subject={message.subject}\r\n            read={message.read}\r\n            timestamp={message.timestamp}\r\n            handleClick={handleClick}\r\n          />\r\n        ))\r\n      )}\r\n      {messages.length < 1 && (\r\n        <div className=\"no-messages\">You have no {mailbox} messages.</div>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n  // return (\r\n  // \t<Wrapper>\r\n  // \t\t{messages.map((message) => (\r\n  //\r\n  // \t\t\t<MessageLine\r\n  // \t\t\t\tkey={message.id}\r\n  // \t\t\t\tid={message.id}\r\n  // \t\t\t\tsender={message.sender}\r\n  // \t\t\t\tsubject={message.subject}\r\n  // \t\t\t\tread={message.read}\r\n  // \t\t\t\ttimestamp={message.timestamp}\r\n  // \t\t\t\thandleClick={handleClick}\r\n  // \t\t\t/>\r\n  //\r\n  // \t\t))}\r\n  // \t</Wrapper>\r\n  // );\r\n};\r\n\r\nexport default Mailbox;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n\tmax-width: var(--maxWidth);\r\n\tmargin: 0 auto;\r\n\r\n\t.send-button {\r\n\t\ttext-align: right;\r\n\t}\r\n`;\r\n\r\n","import React, { Component } from \"react\";\r\nimport Home from \"./Home\";\r\nimport axiosInstance from \"../axios\";\r\n// import { getMessage } from \"./services/apiService\";\r\n// import { useMessageFetch } from \"../hooks/useMessageFetch\";\r\n\r\nclass GetData extends Component {\r\n\tstate = {\r\n\t\tmessage: \"\",\r\n\t\tuser: \"\",\r\n\t\temails: {},\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.login();\r\n\t}\r\n\t// const myMessage = getMessage();\r\n\t// console.log(message);\r\n\tgetMessage = async () => {\r\n\t\tconst apiRoute = \"http://127.0.0.1:8000/api/test\";\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(apiRoute);\r\n\t\t\tconst { message } = await response.json();\r\n\t\t\t// console.log(message);\r\n\t\t\tthis.setState( message );\r\n\t\t} catch (ex) {\r\n\t\t\tif (ex.response && ex.response.status === 400) {\r\n\t\t\t\tconsole.log(ex.response.data);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tgetMailBox = async () => {\r\n\t\ttry {\r\n\t\t\taxiosInstance.get(`/emails/inbox`).then((res) => {\r\n\t\t\t\t// console.log(res.data);\r\n\t\t\t\tthis.setState({ emails: res.data });\r\n\t\t\t});\r\n\t\t} catch (ex) {\r\n\t\t\tif (ex.response && ex.response.status === 400) {\r\n\t\t\t\tconsole.log(ex.response.data);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\ttest = async () => {\r\n\t\ttry {\r\n\t\t\taxiosInstance.get(`/user/show/`).then((res) => {\r\n\t\t\t\tconsole.log(res.data[\"Message\"]);\r\n\t\t\t\tthis.setState({ user: res.data[\"Message\"] });\r\n\t\t\t});\r\n\t\t} catch (ex) {\r\n\t\t\tif (ex.response && ex.response.status === 400) {\r\n\t\t\t\tconsole.log(ex.response.data);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tlogin = async () => {\r\n\t\r\n\t\t// const username = \"ib21@cs50.com\";\r\n\t\t// const password = \"a42d8c2019\";\r\n\t\tconst username = \"thom@cs50.com\";\r\n\t\tconst password = \"a42d8c2019\";\r\n\r\n\t\ttry {\r\n\t\t\taxiosInstance\r\n\t\t\t\t.post(`token/`, {\r\n\t\t\t\t\tusername: username,\r\n\t\t\t\t\tpassword: password,\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlocalStorage.setItem(\"access_token\", res.data.access);\r\n\t\t\t\t\tlocalStorage.setItem(\"refresh_token\", res.data.refresh);\r\n\t\t\t\t\taxiosInstance.defaults.headers[\"Authorization\"] =\r\n\t\t\t\t\t\t\"JWT \" + localStorage.getItem(\"access_token\");\r\n\t\t\t\t});\r\n\r\n\t\t\t// const result = await fetch(apiRoute, {\r\n\t\t\t// \tmethod: \"POST\",\r\n\t\t\t// \t\"Content-Type\": \"application/json\",\r\n\t\t\t// \taccept: \"application/json\",\r\n\t\t\t// \tbody: JSON.stringify({ username, password }),\r\n\t\t\t// });\r\n\t\t\t// console.log(result.access);\r\n\t\t\t// console.log(result.refresh);\r\n\t\t} catch (ex) {\r\n\t\t\tif (ex.response && ex.response.status === 400) {\r\n\t\t\t\tconsole.log(ex.response.data);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn;\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{/* \"Hello\"\r\n\t\t\t\t<div>{this.state.message}</div>\r\n\t\t\t\t<div>{this.state.user}</div>\r\n\t\t\t\t<Home /> */}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default GetData;\r\n","import React from \"react\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\n\r\nimport { Wrapper } from \"./Compose.styles\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nimport API from \"../../API\";\r\n\r\nimport Joi from \"joi\";\r\n\r\nconst blankEmail = {\r\n  to: \"\",\r\n  from: \"\",\r\n  subject: \"\",\r\n  body: \"\",\r\n};\r\n\r\nconst Compose = () => {\r\n  const [recipients, setRecipients] = useState(\"\");\r\n  const [subject, setSubject] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [isPending, setIsPending] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { state: email } = useLocation();\r\n  const textareaRef = useRef();\r\n  const emailToRef = useRef();\r\n\r\n  // const schema = {\r\n  // \trecipients: Joi.string()\r\n  // \t\t.required()\r\n  // \t\t.email({ multiple: true })\r\n  // \t\t.label(\"Recipients\"),\r\n  // \tsubject: Joi.string().required(),\r\n  // \tbody: Joi.string().required(),\r\n  // };\r\n\r\n  useEffect(() => {\r\n    const populateReplyEmail = () => {\r\n      setRecipients(email.sender);\r\n      setSubject(formatSubject());\r\n      setBody(formatBody());\r\n      setCursorPosition();\r\n    };\r\n\r\n    const setCursorPosition = () => {\r\n      // set the cursor position above the reply text\r\n      textareaRef.current.focus();\r\n\r\n      setTimeout(() => textareaRef.current.setSelectionRange(0, 0), 100);\r\n    };\r\n\r\n    const formatSubject = () => {\r\n      const re = /((re:*|Re:*|RE:*|re:*)+(\\s)*)+/;\r\n      return \"Re: \" + email.subject.replace(re, \"\");\r\n    };\r\n\r\n    const formatBody = () => {\r\n      return `\\n\\nOn ${email.timestamp} ${email.sender} wrote:\\n${email.body}`;\r\n    };\r\n\r\n    if (email) {\r\n      populateReplyEmail();\r\n    } else {\r\n      emailToRef.current.focus();\r\n    }\r\n  }, [email]);\r\n\r\n  const doSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const email = { recipients, subject, body };\r\n    setIsPending(true);\r\n    try {\r\n      // axiosInstance.post(`emails/compose`, JSON.stringify(email)).then(() => {\r\n      // \tsetIsPending(false);\r\n      const status = await API.sendMessage(email);\r\n      if (status === 201) {\r\n        navigate(\"/mailbox/inbox\");\r\n      }\r\n    } catch {\r\n      console.log(\"error\");\r\n    }\r\n    setIsPending(false);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Form onSubmit={doSubmit}>\r\n        <Form.Group\r\n          className=\"mb-3\"\r\n          controlId=\"exampleForm.ControlInput1\"\r\n          size=\"lg\"\r\n        >\r\n          <Form.Label>Email to:</Form.Label>\r\n          <Form.Control\r\n            ref={emailToRef}\r\n            type=\"email\"\r\n            placeholder=\"name@thomcodes.com\"\r\n            value={recipients}\r\n            onChange={(e) => setRecipients(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group\r\n          className=\"mb-3\"\r\n          controlId=\"exampleForm.ControlInput1\"\r\n          size=\"lg\"\r\n        >\r\n          <Form.Label>Subject</Form.Label>\r\n          <Form.Control\r\n            type=\"subject\"\r\n            name=\"subject\"\r\n            value={subject}\r\n            placeholder=\"Subject\"\r\n            onChange={(e) => setSubject(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\r\n          <Form.Label>Write your email here</Form.Label>\r\n          <Form.Control\r\n            ref={textareaRef}\r\n            as=\"textarea\"\r\n            rows={10}\r\n            value={body}\r\n            onChange={(e) => setBody(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <div className=\"send-button\">\r\n          {!isPending && (\r\n            <Button variant=\"primary\" type=\"submit\" onSubmit={doSubmit}>\r\n              Send\r\n            </Button>\r\n          )}\r\n          {isPending && (\r\n            <Button variant=\"primary\" type=\"submit\" disabled>\r\n              Sending...\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </Form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Compose;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n\tmax-width: var(--maxWidth);\r\n\tmargin: 0 auto;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n\t#message-body {\r\n\t\twhite-space: pre-wrap;\r\n\t}\r\n\r\n\t#option-buttons {\r\n\t\tmargin: 1rem 0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\r\n\t\tButton + Button {\r\n\t\t\tmargin-left: 1rem;\r\n\t\t}\r\n\t}\r\n`;\r\n","import React, { useState } from \"react\";\r\n\r\nimport { Wrapper, Content } from \"./Email.styles\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\nimport API from \"../../API\";\r\n\r\nconst Email = () => {\r\n  const navigate = useNavigate();\r\n  const { state: email } = useLocation();\r\n  const [read, setRead] = useState(email.read);\r\n  const [archived, setArchived] = useState(email.archived);\r\n\r\n  const toggleRead = () => {\r\n    email.read = !email.read;\r\n    setRead((prevRead) => !prevRead);\r\n    API.updateReadOrArchiveStatus(email);\r\n  };\r\n\r\n  // TODO toggle archive status\r\n  const handleArchive = async () => {\r\n    email.archived = !email.archived;\r\n    setArchived((prevArchived) => !prevArchived);\r\n    await API.updateReadOrArchiveStatus(email);\r\n\r\n    if (email.archived === true) {\r\n      return navigate(\"/mailbox/archive\");\r\n    }\r\n  };\r\n\r\n  const handleReply = () => {\r\n    navigate(\"/compose\", { state: email });\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    await API.deleteMessage(email);\r\n    navigate(\"/mailbox/inbox\", { state: email });\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      {email && (\r\n        <Content>\r\n          <div id=\"sender\">From: {email.sender}</div>\r\n          <div id=\"recipients\">To: {email.recipients.join(\", \")}</div>\r\n          <div id=\"timestamp\">Time: {email.timestamp}</div>\r\n          <div id=\"subject\">Subject: {email.subject}</div>\r\n          <hr />\r\n          <div id=\"message-body\">{email.body}</div>\r\n          <div id=\"option-buttons\">\r\n            <div className=\"reply-button\">\r\n              <Button variant=\"outline-primary btn\" onClick={handleReply}>\r\n                Reply\r\n              </Button>\r\n            </div>\r\n            <div className=\"action-buttons\">\r\n              <Button variant=\"outline-danger btn-sm\" onClick={handleDelete}>\r\n                Delete\r\n              </Button>\r\n              <Button variant=\"outline-primary btn-sm\" onClick={handleArchive}>\r\n                {archived ? \"Unarchive\" : \"Archive\"}\r\n              </Button>\r\n              <Button variant=\"outline-primary btn-sm\" onClick={toggleRead}>\r\n                {read ? \"Mark Unread\" : \"Mark Read\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Content>\r\n      )}\r\n      {!email && navigate(\"/\")}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Email;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n\tmax-width: var(--maxWidth);\r\n\tmargin: 0 auto;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\n// Styles\r\nimport { Wrapper } from \"./Login.styles\";\r\n// React components\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\n// helpers\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport API from \"../../API\";\r\n// hooks\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState();\r\n  const navigate = useNavigate();\r\n  const auth = useAuth();\r\n\r\n  useEffect(() => {\r\n    console.log(document.referrer);\r\n  });\r\n\r\n  const doSubmit = async (e) => {\r\n    setError(false);\r\n    console.log(\"dosubmit\");\r\n    e.preventDefault();\r\n    const user = await auth.login(username, password);\r\n\r\n    if (!user) {\r\n      setError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <h1>Login</h1>\r\n      <Form>\r\n        {error && (\r\n          <div className=\"error\">\r\n            Username or Password incorrect. Try again.\r\n          </div>\r\n        )}\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n          <Form.Label>Username</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter Username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n          <Form.Text className=\"text-muted\">\r\n            The email address you are accessing\r\n          </Form.Text>\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Button variant=\"primary\" type=\"submit\" onClick={doSubmit}>\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n\tmax-width: var(--maxWidth);\r\n\tmargin: 0 auto;\r\n`;\r\n","import React, { useEffect } from \"react\";\r\n// Styles\r\nimport { Wrapper } from \"./Logout.styles\";\r\n\r\n// hooks\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\n\r\nconst Logout = () => {\r\n\tconst auth = useAuth();\r\n\tuseEffect(() => {\r\n\t\tauth.logout();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Wrapper>\r\n\t\t\t<div>Logging out...</div>\r\n\t\t</Wrapper>\r\n\t);\r\n};\r\n\r\nexport default Logout;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n\tmax-width: var(--maxWidth);\r\n\tmargin: 0 auto;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\n// Styles\r\nimport { Wrapper } from \"./Register.styles\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\n\r\n// helpers\r\nimport Joi from \"joi\";\r\n\r\n// hooks\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\n\r\n// API\r\nimport API from \"../../API\";\r\n\r\nconst Register = () => {\r\n\tconst [data, setData] = useState({ email: \"\", password: \"\" });\r\n\tconst [error, setError] = useState({});\r\n\r\n\tconst schema = Joi.object({\r\n\t\temail: Joi.string()\r\n\t\t\t.required()\r\n\t\t\t.email({ minDomainSegments: 2, tlds: { allow: [\"com\"] } }),\r\n\t\tpassword: Joi.string().required().min(5),\r\n\t});\r\n\r\n\tconst registerUser = async () => {\r\n\t\tconst res = await API.register(data.email, data.password);\r\n\t\tconsole.log(res.data);\r\n\t};\r\n\r\n\tconst validate = async () => {\r\n\t\tsetError({});\r\n\t\tconst options = { abortEarly: false };\r\n\t\tconst validated = schema.validate(data, options);\r\n\t\t// let errorList = errors.error.details;\r\n\t\tlet errorObject = {};\r\n\t\tif (validated.error) {\r\n\t\t\tvalidated.error.details.map((item) => {\r\n\t\t\t\terrorObject[item.path] = item.message;\r\n\t\t\t});\r\n\t\t\tsetError(errorObject);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst result = await API.register(data.email, data.password);\r\n\t\t\terrorObject.usernameError = result;\r\n\t\t\tsetError(errorObject);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t};\r\n\r\n\tconst handleChange = ({ currentTarget: input }) => {\r\n\t\tconst newData = { ...data };\r\n\t\tnewData[input.name] = input.value;\r\n\t\tsetData(newData);\r\n\t};\r\n\r\n\tconst doSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tvalidate();\r\n\t\t// console.log(errors);\r\n\t\treturn;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Wrapper>\r\n\t\t\t<h1>Register</h1>\r\n\t\t\t<Form>\r\n\t\t\t\t{/* {error && (\r\n\t\t\t\t\t<div className=\"error\">\r\n\t\t\t\t\t\tUsername or Password incorrect. Try again.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)} */}\r\n\t\t\t\t<Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n\t\t\t\t\t{error.usernameError && (\r\n\t\t\t\t\t\t<div className=\"error\">{error.usernameError}</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Form.Label>Username</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Enter Username\"\r\n\t\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\t\tonChange={(e) => handleChange(e)}\r\n\t\t\t\t\t\t// onChange={(e) => setUsername(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Text className=\"text-muted\">\r\n\t\t\t\t\t\tYour desired Email address\r\n\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t{error.email && (\r\n\t\t\t\t\t\t<div className=\"alert alert-danger\">{error.email}</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\t\tonChange={(e) => handleChange(e)}\r\n\t\t\t\t\t\t//onChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{error.password && (\r\n\t\t\t\t\t\t<div className=\"alert alert-danger\">{error.password}</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button variant=\"primary\" type=\"submit\" onClick={(e) => doSubmit(e)}>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</Wrapper>\r\n\t);\r\n};\r\n\r\nexport default Register;\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n    :root {\r\n        ${\"\" /* --maxWidth: 1280px; */}\r\n        --maxWidth: 1000px;\r\n        --lightGrey: #aaa;\r\n        --medGrey: #353535;\r\n        --darkGrey: #1c1c1c;\r\n    }\r\n\r\n    * {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    body {\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n\r\n    .error {\r\n\t\tcolor: red;\r\n\t\tfont-size: 1.1em;\r\n\t}\r\n\r\n    @media screen and (max-width: 1000px) {\r\n        body {\r\n            padding: 0 2em;\r\n        }\r\n    }\r\n`;\r\n","import React, { useState } from \"react\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\n// bootstrap\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n// styles\nimport \"./App.css\";\n\n// Hooks\nimport { createBrowserHistory } from \"history\";\nimport { ProvideAuth } from \"./hooks/useAuth\";\n\n// Components\nimport GetData from \"./components/getData\";\nimport Home from \"./components/Home\";\nimport Navigation from \"./components/Navigation\";\nimport Mailbox from \"./components/Mailbox\";\nimport Compose from \"./components/Compose\";\nimport Email from \"./components/Email\";\nimport Login from \"./components/Login\";\nimport Logout from \"./components/Logout\";\nimport Register from \"./components/Register\";\n\n// Styles\nimport { GlobalStyle } from \"./globalstyle\";\n\nfunction App() {\n  const history = createBrowserHistory();\n\n  return (\n    <Router history={history}>\n      <ProvideAuth>\n        <Navigation />\n        <Routes>\n          <Route exact path=\"/register\" element={<Register />} />\n          <Route exact path=\"/login\" element={<Login />} />\n          <Route exact path=\"/logout\" element={<Logout />} />\n          <Route exact path=\"/compose\" element={<Compose />} />\n          <Route exact path=\"/read\" element={<Email />} />\n          <Route exact path=\"/reply\" element={<Email />} />\n          <Route exact path=\"/mailbox/:mailbox\" element={<Mailbox />} />\n          <Route exact path=\"/\" element={<Login />} />\n        </Routes>\n      </ProvideAuth>\n      <GlobalStyle />\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}